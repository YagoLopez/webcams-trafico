[{"url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830403","pull_request_review_id":3873402780,"id":2869830403,"node_id":"PRRC_kwDORT5AZs6rDiMD","diff_hunk":"@@ -0,0 +1,67 @@\n+import * as Location from 'expo-location';\n+import { useLocalSearchParams } from 'expo-router';\n+import React, { useEffect, useState } from 'react';\n+import { ActivityIndicator, Text, View } from 'react-native';\n+import TrafficMap from '../../components/TrafficMap';\n+\n+import { useFilteredCams } from '@/hooks/use-cams';\n+import { JsonCamsRepository } from '@/lib/JsonCamsRepository';\n+\n+export default function MapScreen() {\n+  const params = useLocalSearchParams();\n+\n+  const camsRepository = JsonCamsRepository.getInstance();\n+  const { data: cameras = [], isLoading: camsLoading } = useFilteredCams(camsRepository, {});\n+\n+  // We need to fetch basic data for the filters modal here since it's now living in the layout\n+  const [center, setCenter] = useState<{ lat: number; lon: number } | undefined>();\n+  const [loadingLocation, setLoadingLocation] = useState(true);\n+\n+  useEffect(() => {\n+    async function initMap() {\n+      // 1. If routed with params, use those\n+      if (params.lat && params.lon) {\n+        setCenter({\n+          lat: parseFloat(params.lat as string),\n+          lon: parseFloat(params.lon as string)","path":"app/(drawer)/map.tsx","commit_id":"c9e631bc0f97aa9e6b33573c58e00cfa1723fd67","original_commit_id":"23270d2b5bb6f5cc2d07575e801278d5b0901f8d","user":{"login":"gemini-code-assist[bot]","id":176961590,"node_id":"BOT_kgDOCow4Ng","avatar_url":"https://avatars.githubusercontent.com/in/956858?v=4","gravatar_id":"","url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D","html_url":"https://github.com/apps/gemini-code-assist","followers_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/followers","following_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/repos","events_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"body":"![medium](https://www.gstatic.com/codereviewagent/medium-priority.svg)\n\nThe type assertion `params.lat as string` can be unsafe, as `useLocalSearchParams` can return a `string[]`. If the URL were to have multiple `lat` or `lon` query parameters (e.g., `/map?lat=1&lat=2`), this would cause a runtime error. It's safer to handle the array case explicitly.\n\n```suggestion\n          lat: parseFloat(Array.isArray(params.lat) ? params.lat[0] : params.lat),\n          lon: parseFloat(Array.isArray(params.lon) ? params.lon[0] : params.lon)\n```","created_at":"2026-03-01T21:30:55Z","updated_at":"2026-03-01T21:30:55Z","html_url":"https://github.com/YagoLopez/webcams-trafico/pull/10#discussion_r2869830403","pull_request_url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/10","_links":{"self":{"href":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830403"},"html":{"href":"https://github.com/YagoLopez/webcams-trafico/pull/10#discussion_r2869830403"},"pull_request":{"href":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/10"}},"reactions":{"url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":25,"original_start_line":25,"start_side":"RIGHT","line":26,"original_line":26,"side":"RIGHT","author_association":"NONE","original_position":26,"position":26,"subject_type":"line"},{"url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830406","pull_request_review_id":3873402780,"id":2869830406,"node_id":"PRRC_kwDORT5AZs6rDiMG","diff_hunk":"@@ -0,0 +1,138 @@\n+import { Ionicons } from '@expo/vector-icons';\n+import { Image } from 'expo-image';\n+import { useRouter } from 'expo-router';\n+import React, { useEffect, useRef } from 'react';\n+import { Pressable, Text, View } from 'react-native';\n+import MapView from 'react-native-map-clustering';\n+import { Callout, Marker, UrlTile } from 'react-native-maps';\n+\n+interface TrafficMapProps {\n+  cameras: any[];","path":"components/TrafficMap/TrafficMap.tsx","commit_id":"c9e631bc0f97aa9e6b33573c58e00cfa1723fd67","original_commit_id":"23270d2b5bb6f5cc2d07575e801278d5b0901f8d","user":{"login":"gemini-code-assist[bot]","id":176961590,"node_id":"BOT_kgDOCow4Ng","avatar_url":"https://avatars.githubusercontent.com/in/956858?v=4","gravatar_id":"","url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D","html_url":"https://github.com/apps/gemini-code-assist","followers_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/followers","following_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/repos","events_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"body":"![medium](https://www.gstatic.com/codereviewagent/medium-priority.svg)\n\nThe `cameras` prop is typed as `any[]`. To improve type safety and code clarity, it would be beneficial to define a specific `Camera` interface and use `cameras: Camera[]`. This will help catch potential errors at compile time and make the component easier to understand and maintain. This also applies to `TrafficMap.web.client.tsx`.","created_at":"2026-03-01T21:30:55Z","updated_at":"2026-03-01T21:30:55Z","html_url":"https://github.com/YagoLopez/webcams-trafico/pull/10#discussion_r2869830406","pull_request_url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/10","_links":{"self":{"href":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830406"},"html":{"href":"https://github.com/YagoLopez/webcams-trafico/pull/10#discussion_r2869830406"},"pull_request":{"href":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/10"}},"reactions":{"url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":10,"original_line":10,"side":"RIGHT","author_association":"NONE","original_position":10,"position":10,"subject_type":"line"},{"url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830407","pull_request_review_id":3873402780,"id":2869830407,"node_id":"PRRC_kwDORT5AZs6rDiMH","diff_hunk":"@@ -0,0 +1,138 @@\n+import { Ionicons } from '@expo/vector-icons';\n+import { Image } from 'expo-image';\n+import { useRouter } from 'expo-router';\n+import React, { useEffect, useRef } from 'react';\n+import { Pressable, Text, View } from 'react-native';\n+import MapView from 'react-native-map-clustering';\n+import { Callout, Marker, UrlTile } from 'react-native-maps';\n+\n+interface TrafficMapProps {\n+  cameras: any[];\n+  center?: { lat: number; lon: number };\n+  selectedCameraId?: string;\n+}\n+\n+export default function TrafficMapNative({ cameras, center, selectedCameraId }: TrafficMapProps) {\n+  const mapRef = useRef<any>(null);\n+  const markerRefs = useRef<{ [key: string]: any }>({});","path":"components/TrafficMap/TrafficMap.tsx","commit_id":"c9e631bc0f97aa9e6b33573c58e00cfa1723fd67","original_commit_id":"23270d2b5bb6f5cc2d07575e801278d5b0901f8d","user":{"login":"gemini-code-assist[bot]","id":176961590,"node_id":"BOT_kgDOCow4Ng","avatar_url":"https://avatars.githubusercontent.com/in/956858?v=4","gravatar_id":"","url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D","html_url":"https://github.com/apps/gemini-code-assist","followers_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/followers","following_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/repos","events_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"body":"![medium](https://www.gstatic.com/codereviewagent/medium-priority.svg)\n\nThe refs `mapRef` and `markerRefs` are typed with `any`. You can provide more specific types from `react-native-maps` to improve type safety. Note that you'll need to handle the name collision for `MapView` as it's imported from two different libraries (e.g., by using `import { default as RNCMapView } from 'react-native-maps'`).\n\n```suggestion\n  const mapRef = useRef<import('react-native-maps').default>(null);\n  const markerRefs = useRef<Record<string, import('react-native-maps').Marker | null>>({});\n```","created_at":"2026-03-01T21:30:55Z","updated_at":"2026-03-01T21:30:55Z","html_url":"https://github.com/YagoLopez/webcams-trafico/pull/10#discussion_r2869830407","pull_request_url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/10","_links":{"self":{"href":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830407"},"html":{"href":"https://github.com/YagoLopez/webcams-trafico/pull/10#discussion_r2869830407"},"pull_request":{"href":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/10"}},"reactions":{"url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":16,"original_start_line":16,"start_side":"RIGHT","line":17,"original_line":17,"side":"RIGHT","author_association":"NONE","original_position":17,"position":17,"subject_type":"line"},{"url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830408","pull_request_review_id":3873402780,"id":2869830408,"node_id":"PRRC_kwDORT5AZs6rDiMI","diff_hunk":"@@ -0,0 +1,138 @@\n+import { Ionicons } from '@expo/vector-icons';\n+import { Image } from 'expo-image';\n+import { useRouter } from 'expo-router';\n+import React, { useEffect, useRef } from 'react';\n+import { Pressable, Text, View } from 'react-native';\n+import MapView from 'react-native-map-clustering';\n+import { Callout, Marker, UrlTile } from 'react-native-maps';\n+\n+interface TrafficMapProps {\n+  cameras: any[];\n+  center?: { lat: number; lon: number };\n+  selectedCameraId?: string;\n+}\n+\n+export default function TrafficMapNative({ cameras, center, selectedCameraId }: TrafficMapProps) {\n+  const mapRef = useRef<any>(null);\n+  const markerRefs = useRef<{ [key: string]: any }>({});\n+  const router = useRouter();\n+  const [activeCameraId, setActiveCameraId] = React.useState<string | undefined>(selectedCameraId);\n+  const isInternalUpdate = useRef(false);\n+\n+  useEffect(() => {\n+    setActiveCameraId(selectedCameraId);\n+    if (selectedCameraId) {\n+      // Wait for any map animation to finish (e.g., center changes take 500ms)\n+      setTimeout(() => {\n+        let attempts = 0;\n+        const interval = setInterval(() => {\n+          const marker = markerRefs.current[selectedCameraId];\n+          if (marker && marker.showCallout) {\n+            marker.showCallout();\n+            clearInterval(interval);\n+          }\n+          if (++attempts > 10) clearInterval(interval); // Give up after 2 seconds\n+        }, 200);\n+      }, 500);\n+    }\n+  }, [selectedCameraId]);\n+\n+  useEffect(() => {\n+    if (isInternalUpdate.current) {\n+      isInternalUpdate.current = false;\n+      return;\n+    }\n+    if (center && mapRef.current) {\n+      mapRef.current.animateToRegion({\n+        latitude: center.lat,\n+        longitude: center.lon,\n+        latitudeDelta: 0.05,\n+        longitudeDelta: 0.05,\n+      }, 500); // 500ms animation\n+    }\n+  }, [center]);\n+\n+  return (\n+    <View className=\"flex-1\">\n+      <MapView\n+        ref={mapRef}\n+        className=\"w-full h-full\"\n+        initialRegion={{\n+          latitude: center?.lat || 40.4168, // Default to Madrid if no center\n+          longitude: center?.lon || -3.7038,\n+          latitudeDelta: 5.0,\n+          longitudeDelta: 5.0,\n+        }}\n+        clusterColor=\"#3b82f6\" // Tailwind blue-500\n+        showsUserLocation={true}\n+        mapType=\"none\" // Important: Hide default Google/Apple map\n+        onPress={() => {\n+          setActiveCameraId(undefined);\n+          router.setParams({ cameraId: '' });\n+        }} // Deselect on map click\n+      >\n+        <UrlTile\n+          urlTemplate=\"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n+          maximumZ={19}\n+          flipY={false}\n+        />\n+        {cameras.map((cam) => {\n+          if (!cam.latitude || !cam.longitude) return null;\n+          return (\n+            <Marker\n+              key={cam.id}\n+              ref={(ref) => {\n+                if (ref) markerRefs.current[cam.id] = ref;\n+              }}\n+              coordinate={{ latitude: cam.latitude, longitude: cam.longitude }}\n+              title={cam.location}\n+              onPress={() => {\n+                isInternalUpdate.current = true;\n+                setTimeout(() => { isInternalUpdate.current = false; }, 2000);","path":"components/TrafficMap/TrafficMap.tsx","commit_id":"e7106c62fadafabdcba62b70354d19ab93f5fe6f","original_commit_id":"23270d2b5bb6f5cc2d07575e801278d5b0901f8d","user":{"login":"gemini-code-assist[bot]","id":176961590,"node_id":"BOT_kgDOCow4Ng","avatar_url":"https://avatars.githubusercontent.com/in/956858?v=4","gravatar_id":"","url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D","html_url":"https://github.com/apps/gemini-code-assist","followers_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/followers","following_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/repos","events_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"body":"![medium](https://www.gstatic.com/codereviewagent/medium-priority.svg)\n\nUsing `setTimeout` to manage the `isInternalUpdate` flag can be fragile and might lead to race conditions if other state updates occur within the timeout window. This pattern is also repeated in the web component. While this approach might work for simple cases, consider exploring a more robust state management strategy for camera selection and map movement to avoid potential bugs.","created_at":"2026-03-01T21:30:55Z","updated_at":"2026-03-01T21:30:55Z","html_url":"https://github.com/YagoLopez/webcams-trafico/pull/10#discussion_r2869830408","pull_request_url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/10","_links":{"self":{"href":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830408"},"html":{"href":"https://github.com/YagoLopez/webcams-trafico/pull/10#discussion_r2869830408"},"pull_request":{"href":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/10"}},"reactions":{"url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":90,"start_side":"RIGHT","line":null,"original_line":91,"side":"RIGHT","author_association":"NONE","original_position":91,"position":1,"subject_type":"line"},{"url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830409","pull_request_review_id":3873402780,"id":2869830409,"node_id":"PRRC_kwDORT5AZs6rDiMJ","diff_hunk":"@@ -0,0 +1,184 @@\n+import { Image } from 'expo-image';\n+import { useRouter } from 'expo-router';\n+import React, { useEffect, useRef } from 'react';\n+import { Pressable, Text, View } from 'react-native';\n+\n+// Leaflet and React-Leaflet imports\n+import L from 'leaflet';\n+import 'leaflet/dist/leaflet.css';\n+import { MapContainer, Marker, Popup, TileLayer, useMap, useMapEvents } from 'react-leaflet';\n+import MarkerClusterGroup from 'react-leaflet-cluster';\n+\n+// Fix for default Leaflet icon paths in React Native Web/Webpack\n+delete (L.Icon.Default.prototype as any)._getIconUrl;\n+L.Icon.Default.mergeOptions({\n+  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n+  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n+  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\n+});\n+\n+interface TrafficMapProps {\n+  cameras: any[];\n+  center?: { lat: number; lon: number };\n+  selectedCameraId?: string;\n+}\n+\n+// Custom camera icons (using SVG to match Ionicons 'videocam')\n+const createCameraIcon = (isSelected: boolean) => {\n+  const bgColor = isSelected ? '#ef4444' : '#3b82f6';\n+  const scale = isSelected ? 'transform: scale(1.25); z-index: 10;' : '';\n+  const html = `<div style=\"background-color: ${bgColor}; border-radius: 8px; border: 2px solid white; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); width: 34px; height: 34px; display: flex; align-items: center; justify-content: center; ${scale}\">\n+    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"16\" height=\"16\" fill=\"white\">\n+      <path d=\"M482.43 149.33L363.58 203.2c-5.49 2.49-8.91 8.78-8.91 14.86v75.88c0 6.08 3.42 12.37 8.91 14.86l118.85 53.87c12.33 5.59 26.24-2.8 26.24-15.6V164.93c0-12.8-13.91-21.19-26.24-15.6zM292.05 136H59.95C26.9 136 0 162.9 0 195.95v120.1C0 349.1 26.9 376 59.95 376h232.1C325.1 376 352 349.1 352 316.05v-120.1C352 162.9 325.1 136 292.05 136z\"/>\n+    </svg>\n+  </div>`;\n+\n+  return L.divIcon({\n+    html,\n+    className: '', // pass empty string to avoid default Leaflet icon styles\n+    iconSize: [34, 34],\n+    iconAnchor: [17, 17],\n+    popupAnchor: [0, -17],\n+  });\n+};\n+\n+const redIcon = createCameraIcon(true);\n+const defaultIcon = createCameraIcon(false);\n+\n+// Component to handle imperative repositioning\n+function MapController({ center, internalUpdateRef }: { center?: { lat: number; lon: number }, internalUpdateRef: React.MutableRefObject<boolean> }) {\n+  const map = useMap();\n+  useEffect(() => {\n+    if (internalUpdateRef.current) {\n+      internalUpdateRef.current = false;\n+      return;\n+    }\n+    if (center) {\n+      map.setView([center.lat, center.lon], 15, { animate: true });\n+    }\n+  }, [center, map, internalUpdateRef]);\n+  return null;\n+}\n+\n+// Component to handle map clicks for deselecting cameras\n+function MapEvents({ onMapClick }: { onMapClick: () => void }) {\n+  useMapEvents({\n+    click: () => onMapClick(),\n+  });\n+  return null;\n+}\n+\n+export default function TrafficMapWebClient({ cameras, center, selectedCameraId }: TrafficMapProps) {\n+  const defaultCenter = center ? [center.lat, center.lon] : [40.4168, -3.7038];\n+  const router = useRouter();\n+  const markerRefs = useRef<{ [key: string]: any }>({});\n+  const [activeCameraId, setActiveCameraId] = React.useState<string | undefined>(selectedCameraId);\n+  const isInternalUpdate = useRef(false);\n+\n+  useEffect(() => {\n+    setActiveCameraId(selectedCameraId);\n+    if (selectedCameraId) {\n+      // The MarkerClusterGroup might take a moment to render the marker if it was clustered\n+      let attempts = 0;\n+      const interval = setInterval(() => {\n+        const marker = markerRefs.current[selectedCameraId];\n+        if (marker) {\n+          if (marker.openPopup) {\n+            marker.openPopup();\n+            clearInterval(interval);\n+          } else if (marker._map) { // Internal Leaflet check if marker is on map\n+            marker.openPopup();\n+            clearInterval(interval);\n+          }\n+        }\n+        if (++attempts > 20) clearInterval(interval); // Give up after 4 seconds\n+      }, 200);\n+\n+      return () => clearInterval(interval);\n+    }\n+  }, [selectedCameraId]);\n+\n+  // Use a key derived from center to force re-mounting MapContainer initially \n+  // when navigating with coords, because MapContainer's center prop is immutable.\n+  const mapKey = 'traffic-map';","path":"components/TrafficMap/TrafficMap.web.client.tsx","commit_id":"c9e631bc0f97aa9e6b33573c58e00cfa1723fd67","original_commit_id":"23270d2b5bb6f5cc2d07575e801278d5b0901f8d","user":{"login":"gemini-code-assist[bot]","id":176961590,"node_id":"BOT_kgDOCow4Ng","avatar_url":"https://avatars.githubusercontent.com/in/956858?v=4","gravatar_id":"","url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D","html_url":"https://github.com/apps/gemini-code-assist","followers_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/followers","following_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/repos","events_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/gemini-code-assist%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"body":"![medium](https://www.gstatic.com/codereviewagent/medium-priority.svg)\n\nThis comment is misleading. The `mapKey` is a static string, so it will not force the `MapContainer` to re-mount when `center` changes. The map view is correctly updated imperatively by the `MapController` component. To avoid confusion for future developers, I recommend removing this comment and the `key={mapKey}` prop from `MapContainer` on line 108, as they are not having the described effect.","created_at":"2026-03-01T21:30:55Z","updated_at":"2026-03-01T21:30:55Z","html_url":"https://github.com/YagoLopez/webcams-trafico/pull/10#discussion_r2869830409","pull_request_url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/10","_links":{"self":{"href":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830409"},"html":{"href":"https://github.com/YagoLopez/webcams-trafico/pull/10#discussion_r2869830409"},"pull_request":{"href":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/10"}},"reactions":{"url":"https://api.github.com/repos/YagoLopez/webcams-trafico/pulls/comments/2869830409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":105,"original_start_line":101,"start_side":"RIGHT","line":107,"original_line":103,"side":"RIGHT","author_association":"NONE","original_position":103,"position":107,"subject_type":"line"}]