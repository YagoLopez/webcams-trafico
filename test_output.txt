
> my-app@1.0.0 test
> jest

  console.error
    Error fetching webcams API: Error: Network failure
        at Object.<anonymous> (C:\Users\Yago\WebstormProjects\expo-android-project-3\app\__tests__\get-remote-cams-data+api.test.ts:72:43)
        at Generator.next (<anonymous>)
        at asyncGeneratorStep (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\@babel\runtime\helpers\asyncToGenerator.js:3:17)
        at _next (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\@babel\runtime\helpers\asyncToGenerator.js:17:9)
        at C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\@babel\runtime\helpers\asyncToGenerator.js:22:7
        at new Promise (<anonymous>)
        at Object.<anonymous> (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\@babel\runtime\helpers\asyncToGenerator.js:14:12)
        at Promise.then.completed (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-circus\build\run.js:121:9)
        at run (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (C:\Users\Yago\WebstormProjects\expo-android-project-3\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 108 |[39m
     [90m 109 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 110 |[39m     console[33m.[39merror([32m'Error fetching webcams API:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 111 |[39m     [36mreturn[39m [33mResponse[39m[33m.[39mjson({ error[33m:[39m [32m'Internal Server Error'[39m }[33m,[39m { status[33m:[39m [35m500[39m })[33m;[39m
     [90m 112 |[39m   }
     [90m 113 |[39m }[0m

      at error (app/get-remote-cams-data+api.ts:110:13)
          at Generator.throw (<anonymous>)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _throw (node_modules/@babel/runtime/helpers/asyncToGenerator.js:20:9)

FAIL app/__tests__/get-remote-cams-data+api.test.ts
  GET /get-remote-cams-data
    â”œÃ¹ should parse valid DGT XML and return transformed WebcamData array (10 ms)
    Ã”ÃªÃœ should handle XML with missing payload element (1 ms)
    Ã”ÃªÃœ should handle network errors correctly (27 ms)

  Ã”Ã¹Ã… GET /get-remote-cams-data Ã”Ã‡â•‘ should parse valid DGT XML and return transformed WebcamData array

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

      47 |     const data = await response.json();
      48 |
    > 49 |     expect(data).toHaveLength(1);
         |                  ^
      50 |     expect(data[0]).toEqual({
      51 |       id: "1001",
      52 |       imageUrl: "http://example.com/cam1.jpg",

      at Object.toHaveLength (app/__tests__/get-remote-cams-data+api.test.ts:49:18)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 2 passed, 3 total
Snapshots:   0 total
Time:        0.506 s, estimated 2 s
Ran all test suites.
